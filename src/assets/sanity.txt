SANITY CMS:

Great! Here‚Äôs how to set up Sanity CMS and integrate it with your auto repair website.

‚∏ª

‚úÖ Step 1: Install Sanity CLI & Create Project

First, in your terminal:

npm install -g sanity
sanity init

Choose:
	‚Ä¢	Create new project
	‚Ä¢	Name it something like auto-repair-cms
	‚Ä¢	Use the Clean project with schema template
	‚Ä¢	Select Sanity Studio only
	‚Ä¢	Choose a dataset name (production is fine)
	‚Ä¢	Deploy it (optional now‚Äîyou can run locally first)

‚∏ª

‚úÖ Step 2: Define a Schema (e.g., Services)

sanity dev

Log into http://localhost:3333 and add some sample services.

‚∏ª

‚úÖ Step 3: Connect Next.js to Sanity

In your Next.js project:   

npm install @sanity/client  ##################### NOT WORKING

Create a config file:

lib/sanityClient.ts

import { createClient } from '@sanity/client'

export const sanityClient = createClient({
  projectId: 'your_project_id', // from sanity.json or your dashboard
  dataset: 'production',
  apiVersion: '2023-01-01',
  useCdn: true,
})



	3.	‚úÖ Protect routes or prefetch data using getStaticProps if needed


SANITY STUDIO SETUP

Absolutely! Let‚Äôs deploy your Sanity Studio so you can manage your CMS content from anywhere.

‚∏ª

‚úÖ Step-by-Step: Deploy Sanity Studio

üí° If you haven‚Äôt already, cd into your Sanity project folder (not your Next.js app).

1. Run the deploy command

sanity deploy

2. Follow the prompts

You‚Äôll be asked:
	‚Ä¢	What to name your deployed studio (e.g., yourshop-cms)
	‚Ä¢	Which domain (defaults to yourshop-cms.sanity.studio)

Once deployed, you‚Äôll see a success message with your live URL:

Studio successfully deployed to https://yourshop-cms.sanity.studio



‚∏ª

‚úÖ Optional: Add Authentication

By default, Sanity Studio is private‚Äîonly authenticated users can access it.

To add team members:
	1.	Visit https://www.sanity.io/manage
	2.	Go to your project
	3.	Invite users under the ‚ÄúUsers‚Äù tab (email-based)

‚∏ª

‚úÖ Update CORS for Next.js Access

To allow your Next.js app to query Sanity:
	1.	Go to https://www.sanity.io/manage
	2.	Choose your project ‚Üí API tab
	3.	Under CORS origins, add:
	‚Ä¢	http://localhost:3000 (for local dev)
	‚Ä¢	https://your-vercel-site.vercel.app (when live)



To run: 

sanity dev


